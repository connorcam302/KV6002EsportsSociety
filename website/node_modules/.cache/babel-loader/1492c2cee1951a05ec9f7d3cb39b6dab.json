{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Documents\\\\Github\\\\KV6002EsportsSociety\\\\website\\\\src\\\\components\\\\AdminPage.js\";\nimport React from \"react\";\nimport Login from \"./Login.js\";\nimport AdminButtons from \"./AdminButtons.js\";\nimport WeeklyEventsForm from \"./WeeklyEventsForm.js\";\nimport ManageTeamsForm from \"./ManageTeamsForm.js\";\nimport WeeklyMatchesForm from \"./WeeklyMatchesForm.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AdminPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePassword = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.handleEmail = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.handleLoginClick = () => {\n      let url = \"http://unn-w18001798.newnumyspace.co.uk/KV6002/Assessment/api/adminlogin\";\n      let formData = new FormData();\n      formData.append('user_email', this.state.email);\n      formData.append('user_password', this.state.password);\n      fetch(url, {\n        method: 'POST',\n        headers: new Headers(),\n        body: formData\n      }).then(response => {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          throw Error(response.statusText);\n        }\n      }).then(data => {\n        if (\"token\" in data.results) {\n          this.setState({\n            admin: true,\n            token: data.results.token\n          });\n          localStorage.setItem('AdminToken', data.results.token);\n        }\n      }).catch(err => {\n        console.log(\"something went wrong \", err);\n      });\n    };\n\n    this.handleLogoutClick = () => {\n      this.setState({\n        admin: false,\n        token: null\n      });\n      localStorage.removeItem('AdminToken');\n    };\n\n    this.handleAddMatchesClick = () => {\n      this.setState({\n        MatchesForm: true,\n        ManageTeamsPage: false,\n        EventsForm: false\n      });\n    };\n\n    this.handleEventsFormClick = () => {\n      this.setState({\n        EventsForm: true,\n        MatchesForm: false,\n        ManageTeamsPage: false\n      });\n    };\n\n    this.handleManageTeamsClick = () => {\n      this.setState({\n        ManageTeamsPage: true,\n        EventsForm: false,\n        MatchesForm: false\n      });\n    };\n\n    this.state = {\n      authenticated: false,\n      admin: false,\n      token: null,\n      EventsForm: false,\n      ManageTeamsPage: false,\n      MatchesForm: false,\n      email: \"\",\n      password: \"\"\n    };\n    this.handleEmail = this.handleEmail.bind(this);\n    this.handlePassword = this.handlePassword.bind(this);\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleLogoutClick = this.handleLogoutClick.bind(this);\n    this.handleEventsFormClick = this.handleEventsFormClick.bind(this);\n    this.handleManageTeamsClick = this.handleManageTeamsClick.bind(this);\n    this.handleAddMatchesClick = this.handleAddMatchesClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('AdminToken')) {\n      this.setState({\n        admin: true,\n        token: localStorage.getItem('AdminToken')\n      });\n    }\n\n    if (localStorage.getItem('UserLoginToken')) {\n      this.setState({\n        authenticated: true,\n        token: localStorage.getItem('UserLoginToken')\n      });\n    }\n  }\n\n  render() {\n    let page = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Administrative Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Login, {\n        handleEmail: this.handleEmail,\n        handlePassword: this.handlePassword,\n        handleLoginClick: this.handleLoginClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }, this);\n\n    if (this.state.admin) {\n      page = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"The Reading List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AdminButtons, {\n          handleAddMatchesClick: this.handleAddMatchesClick,\n          handleEventsFormClick: this.handleEventsFormClick,\n          handleManageTeamsClick: this.handleManageTeamsClick,\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this);\n    } //Sets the state for the Add Match Form page upon button press.\n\n\n    if (this.state.MatchesForm && this.state.admin) {\n      page = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add Matches \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AdminButtons, {\n          handleAddMatchesClick: this.handleAddMatchesClick,\n          handleEventsFormClick: this.handleEventsFormClick,\n          handleManageTeamsClick: this.handleManageTeamsClick,\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(WeeklyMatchesForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Logout, {\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (this.state.EventsForm && this.state.admin) {\n      page = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add an event! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AdminButtons, {\n          handleAddMatchesClick: this.handleAddMatchesClick,\n          handleEventsFormClick: this.handleEventsFormClick,\n          handleManageTeamsClick: this.handleManageTeamsClick,\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(WeeklyEventsForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Logout, {\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (this.state.ManageTeamsPage && this.state.admin) {\n      page = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Manage teams \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AdminButtons, {\n          handleAddMatchesClick: this.handleAddMatchesClick,\n          handleEventsFormClick: this.handleEventsFormClick,\n          handleManageTeamsClick: this.handleManageTeamsClick,\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(ManageTeamsForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (this.state.authenticated) {\n      page = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"You arent supposed to be here!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Logout, {\n          handleLogoutClick: this.handleLogoutClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default AdminPage;","map":{"version":3,"sources":["C:/Users/Owner/Documents/Github/KV6002EsportsSociety/website/src/components/AdminPage.js"],"names":["React","Login","AdminButtons","WeeklyEventsForm","ManageTeamsForm","WeeklyMatchesForm","AdminPage","Component","constructor","props","handlePassword","e","setState","password","target","value","handleEmail","email","handleLoginClick","url","formData","FormData","append","state","fetch","method","headers","Headers","body","then","response","status","json","Error","statusText","data","results","admin","token","localStorage","setItem","catch","err","console","log","handleLogoutClick","removeItem","handleAddMatchesClick","MatchesForm","ManageTeamsPage","EventsForm","handleEventsFormClick","handleManageTeamsClick","authenticated","bind","componentDidMount","getItem","render","page"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Login from \"./Login.js\";\r\nimport AdminButtons from \"./AdminButtons.js\";\r\nimport WeeklyEventsForm from \"./WeeklyEventsForm.js\";\r\nimport ManageTeamsForm from \"./ManageTeamsForm.js\";\r\nimport WeeklyMatchesForm from \"./WeeklyMatchesForm.js\";\r\n\r\n\r\nclass AdminPage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            authenticated: false,\r\n            admin: false,\r\n            token: null,\r\n            EventsForm:false,\r\n            ManageTeamsPage:false,\r\n            MatchesForm:false,\r\n            email: \"\",\r\n            password: \"\"\r\n        }\r\n        this.handleEmail = this.handleEmail.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        this.handleLoginClick = this.handleLoginClick.bind(this);\r\n        this.handleLogoutClick = this.handleLogoutClick.bind(this);\r\n        this.handleEventsFormClick = this.handleEventsFormClick.bind(this);\r\n        this.handleManageTeamsClick = this.handleManageTeamsClick.bind(this);\r\n        this.handleAddMatchesClick = this.handleAddMatchesClick.bind(this);\r\n}\r\n\r\ncomponentDidMount() {\r\n    if (localStorage.getItem('AdminToken')) {\r\n        this.setState({\r\n            admin:true,\r\n            token: localStorage.getItem('AdminToken')\r\n        });\r\n    }\r\n\r\n    if (localStorage.getItem('UserLoginToken')) {\r\n        this.setState({\r\n            authenticated:true,\r\n            token: localStorage.getItem('UserLoginToken')\r\n        });\r\n    }\r\n}\r\n\r\nhandlePassword = (e) => {\r\n    this.setState({ password: e.target.value })\r\n}\r\n\r\n/**\r\n * Manages the email address input into the login form, which is then used within the authentication process.\r\n * @param text e - stores the entered email address.\r\n */\r\nhandleEmail = (e) => {\r\n    this.setState({ email: e.target.value })\r\n}\r\n\r\nhandleLoginClick = () => {\r\n    let url = \"http://unn-w18001798.newnumyspace.co.uk/KV6002/Assessment/api/adminlogin\"\r\n\r\n    let formData = new FormData();\r\n    formData.append('user_email', this.state.email);\r\n    formData.append('user_password', this.state.password);\r\n\r\n    fetch(url, {\r\n        method: 'POST',\r\n        headers: new Headers(),\r\n        body: formData\r\n    })\r\n        .then((response) => {\r\n            if (response.status === 200) {\r\n                return response.json()\r\n            } else {\r\n                throw Error(response.statusText)\r\n            }\r\n        })\r\n        .then((data) => {\r\n            if (\"token\" in data.results) {\r\n                this.setState(\r\n                    {\r\n                        admin:true,\r\n                        token: data.results.token\r\n                    }\r\n                )\r\n\r\n                localStorage.setItem('AdminToken', data.results.token);\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"something went wrong \", err)\r\n        }\r\n        );\r\n}\r\n\r\nhandleLogoutClick = () => {\r\n    this.setState(\r\n        {\r\n            admin: false,\r\n            token: null\r\n        }\r\n    )\r\n    localStorage.removeItem('AdminToken');\r\n}\r\n\r\nhandleAddMatchesClick = () => {\r\n    this.setState(\r\n        {\r\n            MatchesForm: true,\r\n            ManageTeamsPage: false,\r\n            EventsForm: false,\r\n        }\r\n    )\r\n}\r\n\r\nhandleEventsFormClick = () => {\r\n    this.setState(\r\n        {\r\n            EventsForm: true,\r\n            MatchesForm: false,\r\n            ManageTeamsPage: false\r\n        }\r\n    )\r\n}\r\n\r\nhandleManageTeamsClick = () => {\r\n    this.setState(\r\n        {\r\n            ManageTeamsPage: true,\r\n            EventsForm: false,\r\n            MatchesForm: false,\r\n        }\r\n    )\r\n}\r\n\r\nrender() {\r\n    let page = (\r\n        <div>\r\n            <h1>Administrative Login</h1>\r\n            <Login\r\n                handleEmail={this.handleEmail}\r\n                handlePassword={this.handlePassword}\r\n                handleLoginClick={this.handleLoginClick}\r\n            />\r\n        </div>\r\n    )\r\n    if (this.state.admin) {\r\n        page = (\r\n            <div>\r\n                <h1>The Reading List</h1>\r\n                <AdminButtons handleAddMatchesClick={this.handleAddMatchesClick} handleEventsFormClick={this.handleEventsFormClick} handleManageTeamsClick={this.handleManageTeamsClick}  handleLogoutClick={this.handleLogoutClick}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    //Sets the state for the Add Match Form page upon button press.\r\n    if (this.state.MatchesForm && this.state.admin){\r\n        page = (\r\n            <div>\r\n                <h1>Add Matches </h1>\r\n                <AdminButtons handleAddMatchesClick={this.handleAddMatchesClick} handleEventsFormClick={this.handleEventsFormClick} handleManageTeamsClick={this.handleManageTeamsClick}  handleLogoutClick={this.handleLogoutClick}/>\r\n                <WeeklyMatchesForm/>\r\n                <Logout handleLogoutClick={this.handleLogoutClick} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (this.state.EventsForm && this.state.admin){\r\n        page = (\r\n            <div>\r\n                <h1>Add an event! </h1>\r\n                <AdminButtons handleAddMatchesClick={this.handleAddMatchesClick} handleEventsFormClick={this.handleEventsFormClick} handleManageTeamsClick={this.handleManageTeamsClick}  handleLogoutClick={this.handleLogoutClick}/>\r\n                <WeeklyEventsForm/>\r\n                <Logout handleLogoutClick={this.handleLogoutClick} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (this.state.ManageTeamsPage && this.state.admin){\r\n        page = (\r\n            <div>\r\n                <h1>Manage teams </h1>\r\n                <AdminButtons handleAddMatchesClick={this.handleAddMatchesClick} handleEventsFormClick={this.handleEventsFormClick} handleManageTeamsClick={this.handleManageTeamsClick}  handleLogoutClick={this.handleLogoutClick}/>\r\n                <ManageTeamsForm/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (this.state.authenticated) {\r\n        page = (\r\n            <div>\r\n                <h1>You arent supposed to be here!</h1>\r\n                <Logout handleLogoutClick={this.handleLogoutClick} />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>{page}</div>\r\n    )\r\n}\r\n}\r\nexport default AdminPage;"]},"metadata":{},"sourceType":"module"}