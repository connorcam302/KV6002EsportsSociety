{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Student\\\\Documents\\\\HarryUni\\\\KV6002EsportsSociety\\\\website\\\\src\\\\components\\\\Teams.js\";\n\n/**\r\n * teams Class\r\n *\r\n * @team Harry Laws w19024957\r\n */\nimport React from \"react\";\nimport Team from \"./Team.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Teams extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.filterSearch = s => {\n      return s.team_name.toLowerCase().includes(this.props.search.toLowerCase());\n    };\n\n    this.state = {\n      results: []\n    };\n    console.log(\"constructor\");\n  }\n\n  componentDidMount() {\n    const url = \"http://unn-w19024957.newnumyspace.co.uk/KV6002/Assessment/api/team\";\n    let formData = new FormData();\n    formData.append('team_name', this.state.team_name);\n    formData.append('team_game', this.state.team_game);\n\n    if (this.props.id !== undefined) {\n      url += \"?id=\" + this.props.id;\n      console.log(url);\n    }\n\n    fetch(url).then(response => {\n      if (response.status === 200) {\n        return response.json();\n      } else {\n        throw Error(response.statusText);\n      }\n    }).then(data => {\n      this.setState({\n        results: data.results\n      });\n    }).catch(err => {\n      console.log(\"something went wrong \", err);\n    });\n  }\n\n  render() {\n    let noData = \"\";\n\n    if (this.state.results.length === 0) {\n      noData = /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 22\n      }, this);\n    }\n\n    let filteredResults = this.state.results;\n\n    if (filteredResults.length > 0 && this.props.search !== undefined) {\n      filteredResults = filteredResults.filter(this.filterSearch);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: filteredResults.map((team, i) => /*#__PURE__*/_jsxDEV(Team, {\n        team: team\n      }, team.team_name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 53\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Teams;","map":{"version":3,"sources":["C:/Users/Student/Documents/HarryUni/KV6002EsportsSociety/website/src/components/Teams.js"],"names":["React","Team","Teams","Component","constructor","props","filterSearch","s","team_name","toLowerCase","includes","search","state","results","console","log","componentDidMount","url","formData","FormData","append","team_game","id","undefined","fetch","then","response","status","json","Error","statusText","data","setState","catch","err","render","noData","length","filteredResults","filter","map","team","i"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AAEC,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;;AACD,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAqClBC,YArCkB,GAqCFC,CAAD,IAAO;AACtB,aAAOA,CAAC,CAACC,SAAF,CAAYC,WAAZ,GAA0BC,QAA1B,CAAmC,KAAKL,KAAL,CAAWM,MAAX,CAAkBF,WAAlB,EAAnC,CAAP;AACF,KAvCoB;;AAEd,SAAKG,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAG;AADD,KAAb;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,GAAG,GAAG,oEAAZ;AAEA,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6B,KAAKR,KAAL,CAAWJ,SAAxC;AACAU,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6B,KAAKR,KAAL,CAAWS,SAAxC;;AAEA,QAAI,KAAKhB,KAAL,CAAWiB,EAAX,KAAkBC,SAAtB,EAAiC;AAC/BN,MAAAA,GAAG,IAAI,SAAS,KAAKZ,KAAL,CAAWiB,EAA3B;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH;;AAECO,IAAAA,KAAK,CAACP,GAAD,CAAL,CACGQ,IADH,CACUC,QAAD,IAAc;AACjB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACD,OAFD,MAEO;AACL,cAAMC,KAAK,CAACH,QAAQ,CAACI,UAAV,CAAX;AACD;AACJ,KAPH,EAQGL,IARH,CAQUM,IAAD,IAAU;AACf,WAAKC,QAAL,CAAc;AAACnB,QAAAA,OAAO,EAACkB,IAAI,CAAClB;AAAd,OAAd;AACD,KAVH,EAWGoB,KAXH,CAWWC,GAAD,IAAS;AACfpB,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCmB,GAArC;AACD,KAbH;AAcH;;AAOCC,EAAAA,MAAM,GAAG;AACP,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAI,KAAKxB,KAAL,CAAWC,OAAX,CAAmBwB,MAAnB,KAA8B,CAAlC,EAAqC;AACjCD,MAAAA,MAAM,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAT;AACH;;AACF,QAAIE,eAAe,GAAG,KAAK1B,KAAL,CAAWC,OAAjC;;AAEC,QAAKyB,eAAe,CAACD,MAAhB,GAAyB,CAA1B,IAAiC,KAAKhC,KAAL,CAAWM,MAAX,KAAsBY,SAA3D,EAAuE;AACrEe,MAAAA,eAAe,GAAGA,eAAe,CAACC,MAAhB,CAAuB,KAAKjC,YAA5B,CAAlB;AACH;;AACC,wBACI;AAAA,gBACKgC,eAAe,CAACE,GAAhB,CAAqB,CAACC,IAAD,EAAOC,CAAP,kBAAc,QAAC,IAAD;AAA2B,QAAA,IAAI,EAAED;AAAjC,SAAWA,IAAI,CAACjC,SAAhB;AAAA;AAAA;AAAA;AAAA,cAAnC;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AA3D+B;;AA8DpC,eAAeN,KAAf","sourcesContent":["/**\r\n * teams Class\r\n *\r\n * @team Harry Laws w19024957\r\n */\r\n \r\n import React from \"react\";\r\n import Team from \"./Team.js\";\r\nclass Teams extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            results : []\r\n            \r\n        }\r\n        console.log(\"constructor\")\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const url = \"http://unn-w19024957.newnumyspace.co.uk/KV6002/Assessment/api/team\"\r\n\r\n        let formData = new FormData();\r\n        formData.append('team_name', this.state.team_name);\r\n        formData.append('team_game', this.state.team_game)\r\n\r\n        if (this.props.id !== undefined) {\r\n          url += \"?id=\" + this.props.id\r\n          console.log(url)\r\n      }\r\n\r\n        fetch(url)\r\n          .then( (response) => {\r\n              if (response.status === 200) {\r\n                return response.json() \r\n              } else {\r\n                throw Error(response.statusText);\r\n              }\r\n          })\r\n          .then( (data) => {\r\n            this.setState({results:data.results})\r\n          })\r\n          .catch ((err) => { \r\n            console.log(\"something went wrong \", err) \r\n          });\r\n    }\r\n\r\n    filterSearch = (s) => {\r\n    return s.team_name.toLowerCase().includes(this.props.search.toLowerCase())\r\n }\r\n\r\n    \r\n      render() {\r\n        let noData = \"\" \r\n        if (this.state.results.length === 0) {\r\n            noData = <p>No data</p>\r\n        }\r\n       let filteredResults = this.state.results\r\n\r\n        if ((filteredResults.length > 0) && (this.props.search !== undefined)) {\r\n          filteredResults = filteredResults.filter(this.filterSearch) \r\n      }\r\n        return (\r\n            <div>\r\n                {filteredResults.map( (team, i) => (<Team key={team.team_name} team={team}/>) )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Teams;\r\n"]},"metadata":{},"sourceType":"module"}